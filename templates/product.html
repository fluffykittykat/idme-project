<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Walmart | Product</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --wm-blue:#0071dc;
      --wm-blue-dark:#004f9a;
      --wm-yellow:#ffc220;
      --wm-green:#2ea44f;
      --text:#111;
      --muted:#555;
      --bg:#f7f7f7;
      --card:#fff;
      --border:#e5e7eb;
      --ink:#0b1020;
      --ink-fg:#d1e7ff;
    }
    * { box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; background: var(--bg); color: var(--text); }
    a { color: inherit; text-decoration: none; }
    header { background: var(--wm-blue); color: #fff; }
    .topbar { max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 14px 20px; }
    .brand { display: flex; align-items: center; gap: 10px; font-weight: 800; letter-spacing: .2px; }
    .spark { width: 20px; height: 20px; border-radius: 50%; background: var(--wm-yellow); box-shadow:
      0 -10px 0 0 var(--wm-yellow),
      0 10px 0 0 var(--wm-yellow),
      10px 0 0 0 var(--wm-yellow),
      -10px 0 0 0 var(--wm-yellow); display: inline-block; position: relative; }
    .nav { display: flex; align-items: center; gap: 10px; }
    .pill { display: inline-flex; align-items: center; gap: 8px; background: rgba(255,255,255,.12); color:#fff; padding: 8px 12px; border-radius: 999px; font-weight: 600; border:1px solid rgba(255,255,255,.2); }
    .btn { display:inline-flex; align-items:center; gap:8px; padding: 10px 14px; border-radius: 6px; font-weight: 700; }
    .btn-primary { background:#fff; color: var(--wm-blue); }
    .btn-primary:hover { background:#f2f7ff; }
    .btn-blue { background: var(--wm-blue); color:#fff; }
    .btn-blue:hover { background: var(--wm-blue-dark); }
    .hero { background: linear-gradient(120deg, var(--wm-blue) 0%, var(--wm-blue-dark) 60%, #023a6b 100%); color:#fff; }
    .hero-inner { max-width: 1200px; margin: 0 auto; padding: 24px 20px; display: grid; grid-template-columns: 1.1fr .9fr; gap: 20px; align-items: center; }
    .greeting { display:flex; flex-direction:column; gap:6px; }
    .greeting h1 { margin: 0; font-size: clamp(22px, 3vw, 32px); }
    .greeting p { margin: 0; color: #e9f3ff; }
    .cta-inline { display:flex; gap:10px; align-items:center; flex-wrap: wrap; margin: 8px 0; }
    .lead { font-weight: 800; color:#2b2b2b; }
    .badge { display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-weight:700; background: #e9f8ef; color:#1a4126; border:1px solid #b6e3c2; }
    .content { max-width: 1200px; margin: 24px auto 40px; padding: 0 20px; }
    .product { display:grid; grid-template-columns: 1.1fr .9fr; gap: 16px; }
    .card { background: var(--card); border:1px solid var(--border); border-radius: 10px; padding: 16px; }
    .media { aspect-ratio: 16 / 9; background: radial-gradient(1200px 60% at 50% 100%, #1a2540 0%, #0b1020 65%, #05070e 100%); border-radius: 10px; position:relative; overflow:hidden; }
    .media .photo { position:absolute; inset:10px; border-radius:10px; width: calc(100% - 20px); height: calc(100% - 20px); object-fit: cover; border:2px solid #1f2b4a; background:#000; }
    .media .size { position:absolute; right:12px; bottom:12px; background: rgba(0,0,0,.55); color:#cfe6ff; padding: 4px 8px; border-radius: 999px; font-weight:700; font-size:12px; }
    .title { font-size: 20px; font-weight: 800; margin: 0 0 6px; }
    .brandline { font-size: 12px; color: var(--muted); text-transform: uppercase; font-weight:700; letter-spacing:.4px; margin-bottom: 6px; }
    .price-row { display:flex; align-items: baseline; gap: 10px; flex-wrap: wrap; margin: 8px 0; }
    .price { font-size: 28px; font-weight: 900; }
    .strike { text-decoration: line-through; color:#888; font-weight:600; }
    .teacher { color: var(--wm-green); font-weight: 900; }
    .save { color:#1a4126; background:#e9f8ef; border:1px solid #b6e3c2; border-radius:999px; padding:4px 10px; font-weight:800; font-size:12px; }
    .actions { display:flex; gap:10px; flex-wrap: wrap; margin-top: 12px; }
    .small { color: var(--muted); font-size: 12px; }
    @media (max-width: 1024px){ .hero-inner, .product{ grid-template-columns: 1fr; } }
  </style>
</head>
<body>
<header>
  <div class="topbar">
    <div class="brand">
      <a href="{{ url_for('index') }}" class="brand">
        <span style="font-size:20px;">Walmart</span>
        <span class="spark" aria-hidden="true"></span>
      </a>
    </div>
    <div class="nav">
      {% if profile and profile.first_name %}
        <span class="pill">Hi, {{ profile.first_name }}{% if profile.is_teacher %} â€¢ Teacher{% endif %}</span>
        <a class="btn btn-primary" href="{{ url_for('logout') }}">Sign out</a>
      {% else %}
        <span class="pill">Are you a teacher? Get an additional 10% off</span>
        <a class="btn btn-primary" href="{{ url_for('login') }}">Verify with ID.me</a>
      {% endif %}
    </div>
  </div>
</header>

<section class="hero">
  <div class="hero-inner">
    <div class="greeting">
      {% if not logged_in %}
        <h1>Great choice!</h1>
        <p>Sign in to view personalized pricing.</p>
      {% elif is_teacher %}
        <span class="badge">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M13.485 1.929a1.5 1.5 0 0 1 0 2.121L6.596 10.94a1.5 1.5 0 0 1-2.122 0L2.515 8.98a1.5 1.5 0 1 1 2.122-2.121l1.01 1.01 6.848-6.848a1.5 1.5 0 0 1 2.122 0z"/></svg>
          Educator discount active
        </span>
        <h1>Nice pick{% if profile and profile.first_name %}, {{ profile.first_name }}{% endif %}!</h1>
        <p>As a verified teacher, you save an additional {{ savings | currency }} ({{ (discount_rate * 100) | round(0) | int }}%) on this TV today.</p>
      {% else %}
        <h1>Great choice!</h1>
        <p>Welcome back. See details below.</p>
      {% endif %}
    </div>
    <div>
      <div class="media">
        <img class="photo" src="{{ url_for('static', filename=product.image) }}" alt="{{ product.brand }} {{ product.name }}" />
        <div class="size">{{ product.size }}"</div>
      </div>
    </div>
  </div>
</section>

<main class="content">
  <div class="product">
    <aside class="card">
      <div class="brandline">{{ product.brand }}</div>
      <h2 class="title">{{ product.name }}</h2>

      <div class="price-row">
        <div class="price">{{ product.price | currency }}</div>
        {% if product.was and product.was > product.price %}
          <div class="strike">{{ product.was | currency }}</div>
        {% endif %}
      </div>

      {% if logged_in and is_teacher %}
        <div class="price-row">
          <span class="save">You save an additional {{ savings | currency }}</span>
        </div>
        <div class="price-row">
          <span class="teacher">Teacher price: {{ discounted | currency }}</span>
        </div>
      {% endif %}

      <div class="actions">
        <a class="btn btn-blue" href="{{ url_for('index') }}">Back to Store</a>
        <a class="btn btn-primary" href="#">Add to cart</a>
        <a class="btn" style="border:1px solid var(--border);" href="{{ url_for('profile') }}">View profile</a>
      </div>
      <p class="small">Prices are for demonstration purposes.</p>
    </aside>

    <section class="card">
      <h3 style="margin-top:0;">Highlights</h3>
      <ul>
        <li>4K UHD resolution with vibrant HDR</li>
        <li>Smart TV with your favorite streaming apps</li>
        <li>Immersive big-screen experience for movies and sports</li>
      </ul>
      <h4>Why shop with Walmart</h4>
      <ul>
        <li>Everyday low prices</li>
        <li>Fast, easy pickup and delivery options</li>
        <li>Exclusive savings for verified communities</li>
      </ul>
    </section>
  </div>
</main>
</body>
</html>
